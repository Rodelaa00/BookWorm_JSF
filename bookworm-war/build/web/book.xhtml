<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <style>
            * {box-sizing: border-box;}

            body {
              font-family: Arial, Helvetica, sans-serif;
            }

            a:link {
              color: black;
              text-decoration: none
            }

            /* visited link */
            a:visited {
              color: black;
              text-decoration: none
            }

            /* mouse over link */
            a:hover {
              color: blue;
              text-decoration: none
            }

            /* selected link */
            a:active {
              color: blue;
              text-decoration: none
            }

            .column{
                float: left;
                padding: 1px;
                color: black;
                background-color: white;
            }

            .row:after{
                content: "";
                display: table;
                clear: both;
            }

            .dropdown {
              float: right;
              overflow: hidden;
            }

            .dropdown .dropbtn {
              font-size: 16px;  
              border: none;
              outline: none;
              color: #3E1B0F; 
              padding: 14px 16px;
              background-color: inherit;
              font-family: inherit;
              margin: 0;
            }

            .topnav {
              list-style-type: none;
              overflow: hidden;
              margin: 0;
              padding: 0;
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              background-color: #EFEAE2;
            }

            .topnav a {
              float: right;
              font-size: 16px;
              color: #3E1B0F; 
              text-align: left;
              padding: 14px 16px;
              text-decoration: none;
            }

            .topnav a:hover, .dropdown:hover .dropbtn {
              background-color: #3E1B0F; 
              color: white;
            }

            .topnav a.active {
              background-color: #3E1B0F;
              color: white;
            }

            select#soflow{
               -webkit-appearance: button;

               -webkit-box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.1);
               -webkit-padding-end: 20px;
               -webkit-padding-start: 2px;
               -webkit-user-select: none;
               border: none;
               color: #555;
               font-size: inherit;
               margin: 0px;
               overflow: hidden;
               text-align : center;
               text-overflow: ellipsis;
               white-space: nowrap;
               float : left;

            }

            .topnav .search-container {
              float: left;
              margin-top : 7px;
              -webkit-border-radius: 2px;
              -webkit-box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.1);
            }

            .dropdown-content {
              display: none;
              position: fixed;
              background-color: #f9f9f9;
              min-width: 160px;
              box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
              z-index: 1;
            }

            .dropdown-content a {
              float: none;
              color: #564A3D;
              padding: 12px 16px;
              text-decoration: none;
              display: block;
              text-align: left;
            }

            .dropdown-content a:hover {
              background-color: #ddd;
            }

            .dropdown:hover .dropdown-content {
              display: block;
            }

            .topnav input[type=text] {
              padding: 6px;
              height : 35px;
              font-size: 17px;
              border: none;
            }

            .topnav .search-container button {
              padding: 6px 10px;
              background: white;
              font-size: 17px;
              border: none;
              cursor: pointer;
              width : 36px;
              height : 35px;
            }

            .topnav .search-container button:hover {
              border: thin solid #3E1B0F; 
              box-shadow: 0 5px 5px -5px #3E1B0F;
            }

            select#soflow:hover {
                    border: thin solid #3E1B0F; 
                box-shadow: 0 5px 5px -5px #3E1B0F;
            }

            .foc {

            }

            .foc:focus {
                    border: thin solid #3E1B0F; 
                box-shadow: 0 5px 5px -5px #3E1B0F;
                }

            @media screen and (max-width: 600px) {
              .topnav .search-container {
                float: none;
              }
              .topnav a, .topnav input[type=text], .topnav .search-container button {
                float: none;
                display: block;
                text-align: left;
                width: 100%;
                margin: 0;
                padding: 14px;
              }
              .topnav input[type=text] {
                border: 1px solid #ccc;  
              }
            }
</style>
        <title>BookWorm: Book</title>
    </h:head>
    <h:body style="width: auto; background-color: #F6F4EE">
        <div class="topnav" style="border-bottom: thin solid #ccc; box-shadow: 0 5px 5px -5px #ccc">
            <div class="column" style="width: 10%; background-color: #EFEAE2"></div>
            <img src="Icons/logo1_2.png" alt="BookWorm" width="200" height="50" style="float: left"></img>
            <div class="column" style="width: 10%; background-color: #EFEAE2"></div>
            <div class="search-container" style="width: 20%">
                <f:view>
                    <h:form>
                        <h:selectOneMenu id="choice" value="#{bookController.choice_Search}" title="Choice" style="height: 35px; background-color: white">
                            <f:selectItem itemValue = "1" itemLabel = "Title" /> 
                            <f:selectItem itemValue = "2" itemLabel = "Author" /> 
                        </h:selectOneMenu>
                        <h:outputLabel for="bookName" />&nbsp;&nbsp;
                        <h:inputText id="bookName" value="#{bookController.param}" title="BookName" />
                        <h:commandButton action="#{bookController.goToResult()}" image="Icons/search.png" 
                                         style="width: 20px; height: 20px; padding-left: 3px"></h:commandButton>
                    </h:form>
                </f:view>
            </div>
            <div class="column" style="width: 10%; background-color: #EFEAE2; float: right"></div>
            <div class="dropdown">
                <button class="dropbtn">My Account 
                    <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                    <a href="accountsetting.xhtml">Account Settings</a>
                    <a href="bookshelf.xhtml">My Bookshelf</a>
                    <a><h:form><h:commandButton value="LogOut" action="#{loginController.logOut()}"></h:commandButton></h:form></a>
                        <!--<h:link value="LogOut" onclick="LoginController.logOut()"></h:link>-->
                </div>
            </div>
            <a href="profile.xhtml">Profile</a>
            <a href="index.xhtml">Home</a>
            <div class="dropdown">
                <button class="dropbtn">Browse 
                    <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                    <a href="all_books.xhtml">All Books</a>
                    <a href="genre.xhtml">Genre</a>
                    <a href="#">Most Liked</a>
                </div>
            </div>
        </div>
        <br></br><br></br><br></br><br></br><br></br><br></br><br></br>
        
        <div class="row" style="width: auto">
        <div class="column" style="width: 9.5%; background-color: #F6F4EE"></div>
        <div class="column" style="width: 20%; height: 100px; background-color: #F6F4EE">
            <!--    this is left column   -->
            <!--    erase "height:100px" to set the height according to its elements   -->
        </div>
        <div class="column" style="width: 1%; background-color: #F6F4EE"></div>
        <div class="column" style="width: 39%; border: thin solid #ccc">
            <br></br><br></br>Search results:
            <br></br><br></br><br></br><br></br>
            <f:view>
            <h:form>
                <h1><h:outputText value="View"/></h1>
                <h:inputText id="propertyId" readonly="true" value="#{bookController.find(param['id'])}" style="display:none"/>
                <h:inputText id="propertyId2" readonly="true" value="#{bookShelfController.setID(param['id'])}" style="display:none"/>
                <h:panelGrid columns="2">
                    <h:outputText value="BookId:"/>
                    <h:outputText value="#{bookController.book.bookId}" title="BookId"/>
                    <h:outputText value="BookName:"/>
                    <h:outputText value="#{bookController.book.bookName}" title="BookName"/>
                    <h:outputText value="ReleaseDate:"/>
                    <h:outputText value="#{bookController.book.releaseDate}" title="ReleaseDate">
                        <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                    </h:outputText>
                    <h:outputText value="AuthorName:"/>
                    <h:outputText value="#{bookController.book.authorName}" title="AuthorName"/>
                    <h:outputText value="Description:"/>
                    <h:outputText value="#{bookController.book.description}" title="Description"/>
                </h:panelGrid>
            </h:form>


            <h:form>
                <h1><h:outputText value="Create/Edit"/></h1>
                <h:panelGrid columns="2">
                    <h:outputLabel value="BookMark:" for="bookMark" />
                    <h:selectOneMenu id="bookMark" value="#{bookShelfController.bookshelf.bookMark}" title="BookMark">
                        <f:selectItem itemValue = "Want to Read" itemLabel = "Want to Read" /> 
                        <f:selectItem itemValue = "Reading" itemLabel = "Reading" />
                        <f:selectItem itemValue = "Finished" itemLabel = "Finished" />
                    </h:selectOneMenu>
                    <h:outputLabel value="BookRate:" for="bookRate" />
                    <h:selectOneMenu id="bookRate" value="#{bookShelfController.bookshelf.bookRate}" title="BookRate">
                        <f:selectItem itemValue = "1" itemLabel = "1" /> 
                        <f:selectItem itemValue = "2" itemLabel = "2" />
                        <f:selectItem itemValue = "3" itemLabel = "3" />
                        <f:selectItem itemValue = "4" itemLabel = "4" />
                        <f:selectItem itemValue = "5" itemLabel = "5" />
                        <f:selectItem itemValue = "6" itemLabel = "6" />
                        <f:selectItem itemValue = "7" itemLabel = "7" />
                        <f:selectItem itemValue = "8" itemLabel = "8" />
                        <f:selectItem itemValue = "9" itemLabel = "9" />
                        <f:selectItem itemValue = "10" itemLabel = "10" />
                    </h:selectOneMenu>
                    <h:outputLabel value="BookReview:" for="bookReview" />
                    <h:inputTextarea id="bookReview" value="#{bookShelfController.bookshelf.bookReview}" title="BookReview" />
                    <h:commandButton value="save" action="#{bookShelfController.add(param['id'])}"></h:commandButton>
                </h:panelGrid>
            </h:form>

        </f:view>
            
            <f:view>
            <h:form>
                <h1><h:outputText value="List"/></h1>
                <h:dataTable value="#{bookShelfController.findAllForOne()}" var="item">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="UserName"/>
                        </f:facet>
                        <h:outputText value="#{item.login.userName}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="BookMark"/>
                        </f:facet>
                        <h:outputText value="#{item.bookMark}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="BookRate"/>
                        </f:facet>
                        <h:outputText value="#{item.bookRate}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="BookReview"/>
                        </f:facet>
                        <h:outputText value="#{item.bookReview}"/>
                    </h:column>
                    <h:column rendered="#{loginController.checkAdmin()}">
                        <h:commandButton value="Delete" action="#{bookShelfController.remove(item)}"></h:commandButton>
                    </h:column>
                </h:dataTable>
            </h:form>
        </f:view>
        </div>
        <div class="column" style="width: 1%; background-color: #F6F4EE"></div>
        <div class="column" style="width: 20%; height: 100px; background-color: #F6F4EE">
            
        </div>
        <div class="column" style="width: 9.5%; background-color: #F6F4EE"></div>
    </div>
    </h:body>
</html>

